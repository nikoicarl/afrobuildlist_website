<!-- Scroll Top -->
<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
                class="bi bi-arrow-up-short"></i></a>

<!-- Preloader -->
<div id="preloader"></div>


<script>
        //Capitalize each word in a given string
        String.prototype.toUcwords = function() {
        let value = this.toString();
        if (value === "" || value === null || value === undefined) {
                return '';
        } else {
                return value.replace(/\w+/g, function(a){
                return a.charAt(0).toUpperCase() + a.slice(1).toLowerCase();
                });
        }
        }

        function trimDescription(text, maxLength = 120) {
        if (!text || typeof text !== "string") return "No description available.";
        const clean = text.trim();
        if (clean.length <= maxLength) return clean;
        return clean.substring(0, maxLength).replace(/\W+$/, '') + "...";
        }

</script>

<!-- Vendor JS Files -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

<!-- Main JS File -->
<script src="assets/js/main.js"></script>


<!-- Page Specific Scripts -->
<% if (page === 'home') { %>
        <script src="assets/js/hero_categoriesAjax.js"></script>
        <script src="assets/js/product_carousal.js"></script>
        <script src="assets/js/servicesAjax.js"></script>

<% } else if (page === 'dashboard') { %>
        <script src="assets/js/hero_categoriesAjax.js"></script>
        <script src="assets/js/product_carousal.js"></script>
        <script src="assets/js/servicesAjax.js"></script>
<% } else if (page === 'about') { %>
        <script src="assets/js/product_carousal.js"></script>
<% } else if (page === 'services') { %>
        <script src="assets/js/servicePageAjax.js"></script>
<% } else if (page === 'product') { %>
        <script src="assets/js/productPageAjax.js"></script>
<% } else if (page === 'suppliers') { %>
        <script src="assets/js/suppliersAjax.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<% } %>


<!-- Scripts -->
<script>
        $('#faqAccordion').on('show.bs.collapse', function (e) {
                $(e.target).prev('.card-header').addClass('expanded');
                $(e.target).prev('.card-header').find('.btn-link').removeClass('collapsed');
        });

        $('#faqAccordion').on('hide.bs.collapse', function (e) {
                $(e.target).prev('.card-header').removeClass('expanded');
                $(e.target).prev('.card-header').find('.btn-link').addClass('collapsed');
        });

        function handleSubmit(event) {
                event.preventDefault();
                alert('Thank you for your message! We will get back to you soon.');
                event.target.reset();
        }
</script>

<script src="/assets/js/env.js"></script>
<script src="/assets/js/header-modal.js"></script>
<script>
        document.addEventListener('DOMContentLoaded', function () {
                const contactForm = document.getElementById('contactForm');

                if (contactForm) {
                contactForm.addEventListener('submit', async function (e) {
                        e.preventDefault();

                        const formData = {
                        name: contactForm.name.value.trim(),
                        email: contactForm.email.value.trim(),
                        message: contactForm.message.value.trim()
                        };

                        try {
                        const res = await fetch(`${API_BASE}/contact`, {
                                method: 'POST',
                                headers: {
                                'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(formData)
                        });

                        const result = await res.json();

                        if (result.success) {
                                Swal.fire({
                                icon: 'success',
                                title: 'Message Sent!',
                                text: 'Your message was sent successfully.',
                                confirmButtonColor: 'var(--primary-color)'
                                });
                                contactForm.reset();
                        } else {
                                Swal.fire({
                                icon: 'error',
                                title: 'Failed',
                                text: result.message || 'Failed to send message. Please try again later.',
                                confirmButtonColor: '#d33'
                                });
                        }
                        } catch (err) {
                        console.error('Error submitting contact form:', err);
                        Swal.fire({
                                icon: 'error',
                                title: 'Error',
                                text: 'Something went wrong. Please try again.',
                                confirmButtonColor: '#d33'
                        });
                        }
                });
                }
        });
</script>


<script>
        document.getElementById("year").textContent = new Date().getFullYear();
</script>
